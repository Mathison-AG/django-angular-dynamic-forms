{"version":3,"sources":["django-angular-dynamic-forms/src/impl/dialog-django-form.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,sCAAgD;AAChD,2EAAqE;AACrE,8CAA6E;AAC7E,6CAAgD;AAChD,iDAA6C;AAQ7C;IAA+C,6CAAuB;IAClE,mCAAY,UAAsB,EACtB,QAAqB,EACrB,SAAkD,EACzB,IAAwB,EACjD,aAA2B;QAJvC,YAKI,kBAAM,UAAU,EAAE,QAAQ,EAAE,aAAa,CAAC,SAwC7C;QAtCG,KAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAC,IAAoD;YACvE,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;QACH,KAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAC,IAAoC;YACvD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACnC,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAC;QAClE,CAAC;QAED,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;QAE5C,EAAE,CAAC,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC;YACnC,KAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC,2BAA2B,CAAC;QACxE,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC;YAC7B,KAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC;QAC5D,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACf,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAChC,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YACd,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBAClB,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC;YACpC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC9B,CAAC;QACL,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YAClB,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QACtC,CAAC;;IACL,CAAC;IA9CQ,yBAAyB;QALrC,gBAAS,CAAC;YACP,QAAQ,EAAE,oBAAoB;YAC9B,WAAW,EAAE,qCAAqC;YAClD,SAAS,EAAE,CAAC,qCAAqC,CAAC;SACrD,CAAC;QAKe,WAAA,aAAM,CAAC,0BAAe,CAAC,CAAA;yCAHZ,iBAAU;YACZ,sBAAW;YACV,uBAAY,UAER,4BAAY;OAL9B,yBAAyB,CA+CrC;IAAD,gCAAC;CA/CD,AA+CC,CA/C8C,oDAAuB,GA+CrE;AA/CY,8DAAyB","file":"dialog-django-form.component.js","sourcesContent":["import {Component, Inject} from '@angular/core';\nimport {DjangoFormBaseComponent} from './django-form-base.component';\nimport {MAT_DIALOG_DATA, MatDialogRef, MatSnackBar} from '@angular/material';\nimport {HttpClient} from '@angular/common/http';\nimport {ErrorService} from './error-service';\nimport {DjangoDialogConfig} from '../django-form-iface';\n\n@Component({\n    selector: 'dialog-django-form',\n    templateUrl: './dialog-django-form.component.html',\n    styleUrls: ['./dialog-django-form.component.scss']\n})\nexport class DialogDjangoFormComponent extends DjangoFormBaseComponent {\n    constructor(httpClient: HttpClient,\n                snackBar: MatSnackBar,\n                dialogRef: MatDialogRef<DialogDjangoFormComponent>,\n                @Inject(MAT_DIALOG_DATA) data: DjangoDialogConfig,\n                error_service: ErrorService) {\n        super(httpClient, snackBar, error_service);\n\n        this.submit.subscribe((info: { data: any; response?: any; cancel: boolean }) => {\n            info.cancel = false;\n            dialogRef.close(info);\n        });\n        this.cancel.subscribe((info: { data: any; cancel: boolean }) => {\n            info.cancel = true;\n            dialogRef.close(info);\n        });\n\n        if (!data.config && !data.django_url) {\n            throw new Error('Please specify either config or django_url');\n        }\n\n        this.extra_form_data = data.extra_form_data;\n\n        if (data.initial_data_transformation) {\n            this.initial_data_transformation = data.initial_data_transformation;\n        }\n\n        if (data.config_transformation) {\n            this.config_transformation = data.config_transformation;\n        }\n\n        if (data.form_id) {\n            this.form_id = data.form_id;\n        }\n\n        if (data.config) {\n            if (data.django_url) {\n                this.extra_config = data.config;\n            } else {\n                this.config = data.config;\n            }\n        }\n\n        if (data.django_url) {\n            this.django_url = data.django_url;\n        }\n    }\n}\n"]}